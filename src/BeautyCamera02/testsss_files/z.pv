!function(e,t){function n(){return this.options=r.extend({},arguments[0]),this.status="normal",["m","pc","mip"].indexOf(this.options.terminal?this.options.terminal.toLowerCase():"")<0&&(console.warn("terminal is not a validate terminal."),this.status="error"),r.h(this.options.site)||(console.warn("site should be required!"),this.status="error"),r.h(this.options.buz)||(console.warn("buz should be required!"),this.status="error"),this.init.apply(this,arguments)}var i=Array.prototype;i.forEach||(i.forEach=function(e,t){var n,i;if(null==this)throw new TypeError(" this is null or not defined");var r=Object(this),o=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),i=0;i<o;){var a;i in r&&(a=r[i],e.call(n,a,i,r)),i++}}),i.indexOf||(i.indexOf=function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return-1;var r=+t||0;if(Math.abs(r)===1/0&&(r=0),r>=i)return-1;for(var o=Math.max(r>=0?r:i-Math.abs(r),0);o<i;){if(o in n&&n[o]===e)return o;o++}return-1}),i.isArray||(i.isArray=function(e){return"[object Array]"==={}.toString.call(e)});var r=function(){var n={};return n.g=function(e){for(var t in e)return!1;return!0},n.h=function(e){return"string"==typeof e&&""!==e},n.i=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},n.j=function(e){var t={}.toString,n={}.hasOwnProperty,i=e&&"object"==typeof e&&"setInterval"in e,r="[object Object]"===t.call(e);if(!e||!r||e.nodeType||i)return!1;try{if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var o;for(o in e);return void 0===o||n.call(e,o)},n.k=function(e){return e&&"[object Function]"==={}.toString.call(e)},n.l=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},n.extend=function(){var e,t,i,r,o,a,s=!1,c=arguments.length,l=1,p=arguments[0]||{};for("boolean"==typeof p&&(s=p,p=arguments[l]||{},l++),"object"==typeof p||n.k(p)||(p={});l<c;l++)if(null!==(t=arguments[l]))for(e in t)i=p[e],r=t[e],p!==r&&(s&&r&&(n.j(r)||(a=Array.isArray(r)))?(a?(a=!1,o=i&&Array.isArray(i)?i:[]):o=i&&n.j(i)?i:{},p[e]=n.extend(s,o,r)):void 0!==r&&(p[e]=r));return p},n.m=function(e){var t=[];return e=e||{},n.i(e,function(e,n){t.push(e+"="+n)}),t.join("&")},n.q=function(n,i){var r=t.createElement("script"),o=t.getElementsByTagName("head")[0],a="_jsonp"+ +new Date;n=n+"&callback="+a,r.charset="utf-8",e[a]=function(t){e[a]=null,i&&"function"==typeof i&&i(t)},r.onload=r.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r.parentNode&&r.parentNode.removeChild(r),r.onload=r.onreadystatechange=null)},r.src=n,o.appendChild(r)},n.s=function(e){var n,i,r=String(t.cookie),o=new RegExp("(?:^| )"+e+"(?:(?:=([^;]*))|;|$)");return this.h(e)&&(i=r.match(o),n=i&&i[1]?unescape(i[1]):""),n},n.u=function(e,n,i,r,o,a){var s="",c=i;"number"==typeof c&&(c=new Date((new Date).getTime()+864e5*i)),c instanceof Date&&(s+="; expires="+c.toUTCString()),this.h(r)&&(s+="; domain="+r),this.h(o)?s+="; path="+o:s+="; path=/",a&&(s+="; secure"),t.cookie=e+"="+escape(n)+s},n.v=function(e,t,n,i){this.u(e,"",-1,t,n,i)},n.A=function(){var t="",n=e.location.hostname,i=n.replace(/\.(com|net|org|gov|edu|cn$)\.?.*/,"");return i.lastIndexOf(".")<0?t="."+n:(i=i.substring(i.lastIndexOf(".")),t=n.substring(n.lastIndexOf(i))),t},n.B=function(t){var n="";if(t=e.decodeURIComponent(t),/^(\w+:)?\/\//.test(t)){var i=t.split("/"),r=i[2],o=r.replace(/\.(com|net|org|gov|edu|cn$)\.?.*/,"");-1===o.lastIndexOf(".")?r="."+r:(o=o.substring(o.lastIndexOf(".")),n=r.substring(r.lastIndexOf(o)))}return n},n.C=function(){var t=["m.zol.com","m.zol.com.cn","wap.zol.com.cn","app.zol.com.cn","lib.wap.zol.com.cn"],n=e.location.hostname;return t.indexOf(n)>-1},n.D=function(e){(new Image).src=e},n.F=function(n,i,r){arguments.length<3&&(n=e,i=arguments[0],r=arguments[1]),t.attachEvent?n.attachEvent("on"+i,r):t.addEventListener&&n.addEventListener(i,r,!1)},n}(),o={init:function(t){this.G(function(){"mip"!==t&&e._zqa_.start(t)})},G:function(e){var n=t.createElement("script"),i=t.getElementsByTagName("head")[0];n.charset="utf-8",n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n.parentNode&&n.parentNode.removeChild(n),n.onload=n.onreadystatechange=null,e&&"function"==typeof e&&e())},n.src="//js.zol.com.cn/pvn/qa.min.js",i.appendChild(n)}},a=function(){var n=["scroll","keyup","mousemove","visibilitychange","popstate"],i=["touchstart","pageshow","pagehide"],o=0,a=[],s={H:function(t){var n={};return t.pv.t&&(n.t1=t.pv.t),t.pv.ns&&(n.ns=t.pv.ns),t.pv.ns&&(n.pagetype=t.pv.pagetype),t.pv.ipck&&(n.ipck=t.pv.ipck),/(zol)|(shopApp)/i.test(e.navigator.userAgent)&&(n.appversion=t.all.appversion,n.imei=t.all.imei,n.ssid=t.all.ssid,n.os=t.all.os),n},I:function(e,n,i){var o={};"a"===n&&("visibilitychange"===i.J?o.e=t.visibilityState:o.e=i.J),o.t="a"===n?i.time:+new Date;var a=s.H(e);if(o=r.extend(o,a),"e"===n&&(o.type=i.K.type,o.eventName=i.K.name,i.K.extra&&!r.g(i.K.extra))){var c={};r.i(i.K.extra,function(e,t){c["_"+e]=t}),o=r.extend(o,c)}if(("a"!==n||"a"===n&&"click"===i.J)&&(e.xpath&&(o.xpath=e.xpath),e.position&&(o.pos=e.position),e.link&&(o.link=e.link)),"a"===n){o.vh=Math.ceil(this.L().height);var l=this.M();o.sh=Math.ceil(l),o.screen=e.screen}e.pv.url&&(o.url=e.pv.url);var p=r.m(o);return"a"===n&&e.baseUrl.a&&(p=e.baseUrl.a+"?"+p),"o"===n&&e.baseUrl.o&&(p=e.baseUrl.o+"?"+p),"e"===n&&e.baseUrl.e&&(p=e.baseUrl.e+"?"+p),p},N:function(e,t){var n=a.indexOf(e)>-1,i=+new Date,c=i-o;if(!n||c>=1e4){"visibilitychange"!==e&&"click"!==e&&a.push(e),o=i;var l=s.I(t,"a",{J:e,time:i});r.D(l)}},O:function(e,t){var n=this.I(t,"e",{K:e});r.D(n)},P:function(e){var t=this.I(e,"o");r.D(t)},R:function(e,t){var n={};n.t=+new Date;var i=s.H(t);if(n=r.extend(n,i),n.event=e.name,t.position){var o=t.position.split(",");n.ox=o[0],n.oy=o[1]}if(e.extra&&!r.g(e.extra)){var a={};r.i(e.extra,function(e,t){a["_"+e]=t}),n=r.extend(n,a)}t.pv.url&&(n.url=t.pv.url);var c="//impa.zol.com.cn/?"+r.m(n);r.D(c)},S:function(t,n){var i,o,a={},c=t,l=c.tagName.toLowerCase(),p=s.T(c);if("object"===l||"embed"===l)i=s.U(c);else if(p.index>0){c=p.V,i=s.U(c);var u=c.getAttribute("href");if(u.indexOf("#")>-1&&(u=u.slice(0,u.indexOf("#"))),u.indexOf("javascript:")<0&&""!==u){var v=r.B(u);if(r.h(v))o=u;else{var f=e.location;o=f.protocol+"//"+f.host+u}}}else i=s.W(n);a.position=Math.ceil(i.x)+","+Math.ceil(i.y);var h=s.X(c);return a.xpath=h,o&&(a.link=o),a},Y:function(e){var t=r.B(e),n=r.A();return""!==t&&""!==n&&t!==n},Z:function(n){var i=n.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(e.innerHeight||t.documentElement.clientHeight)&&i.right<=(e.innerWidth||t.documentElement.clientWidth)},M:function(){var n=this.L(),i=e.pageYOffset||e.scrollY||t.documentElement.scrollTop||0;return n.height+i},L:function(){return{width:e.innerWidth||t.documentElement.clientWidth,height:e.innerHeight||t.documentElement.clientHeight}},W:function(n){var i=n||e.event,r=t.documentElement.scrollLeft||t.body.scrollLeft,o=t.documentElement.scrollTop||t.body.scrollTop;return{x:i.pageX||i.clientX+r,y:i.pageY||i.clientY+o}},U:function(e){var n=t.documentElement.scrollLeft||t.body.scrollLeft,i=t.documentElement.scrollTop||t.body.scrollTop;return{x:e.getBoundingClientRect().left+n,y:e.getBoundingClientRect().top+i}},$:function(e,t){for(var n=[],i=e.childNodes,r=i.length,o=0;o<r;o++)if(1===i[o].nodeType){var a=i[o].tagName.toLowerCase();a===t&&n.push(i[o])}return n},X:function(e){for(var t=[];e&&1===e.nodeType;){if(e.id&&""!==e.id)return t.unshift('//*[@id="'+e.getAttribute("id")+'"]'),t.join("/");var n=1,i=e.tagName.toLowerCase(),r=this.$(e.parentNode,i),o=r.length,a=i;if(o>1){for(var s=0;s<o;s++){if(r[s]===e)break;n++}a=a+"["+n+"]"}t.unshift(a),e=e.parentNode}return t.length?"/"+t.join("/"):null},T:function(e){for(var t=e,n=1,i=0;n<=5&&t;){var r=t.tagName;r&&("a"!==r.toLowerCase()?t=t.parentNode:i=n),n++}return{index:i,V:t}},_:function(e){var n,i,r=[];if(t.querySelectorAll){n=t.querySelectorAll("["+e+"]"),i=n.length;for(var o=0;o<i;o++)r.push(n[o]);return r}var a=arguments[1]||t;for(n=a.getElementsByTagName("*"),i=n.length;--i>=0;){var s=n[i];"string"==typeof s.getAttribute(e)&&r.push(s)}return r}};return{init:function(){var o=arguments[0]||{};n.forEach(function(n,i){var a=t;"scroll"!==n&&"popstate"!==n||(a=e),r.F(a,n,function(e){s.N(n,o)})}),r.F(t,"click",function(t){var n=t||e.event,i=n.target||n.srcElement,r=i.tagName.toLowerCase(),a=s.T(i);if("object"===r||"embed"===r||a.index>0){var c=s.S(i,n);o.position=c.position,o.xpath=c.xpath,o.link=c.link?e.encodeURIComponent(c.link):null,c.link&&s.Y(c.link)&&s.P(o),s.N("click",o)}}),"ontouchend"in t&&i.forEach(function(n,i){var a=t;"pageshow"!==n&&"pagehide"!==n||(a=e),r.F(a,n,function(){s.N(n,o)})})},aa:function(t){var n=this;e._zpv_events=e._zpv_events||[],e._zpv_events.push=function(e){n.ba(e,t)}},ba:function(t,n){if(r.l(t.dom)){var i=t.dom?s.U(t.dom):null,o=t.dom?s.X(t.dom):null;n.position=Math.ceil(i.x)+","+Math.ceil(i.y),n.xpath=o}"click"===t.type?r.F(t.dom,"click",function(){var i=s.S(t.dom);n.position=i.position,t.range&&t.range.indexOf("bms")>-1?s.R(t,n):(n.xpath=i.xpath,i.link&&(n.link=e.encodeURIComponent(i.link)),s.O(t,n))}):"hover"===t.type?r.F(t.dom,"mouseover",function(){s.O(t,n)}):"inview"===t.type?(t.dom.ca=!1,s.Z(t.dom)&&(t.range&&t.range.indexOf("bms")>-1?s.R(t,n):s.O(t,n),t.dom.ca=!0),r.F(e,"scroll",function(){var e=s.Z(t.dom),i=s.U(t.dom);n.position=Math.ceil(i.x)+","+Math.ceil(i.y),!t.dom.ca&&e&&(t.range&&t.range.indexOf("bms")>-1?s.R(t,n):s.O(t,n),t.dom.ca=!0)})):"load"===t.type&&("bms_placeholder"===t.range?s.R(t,n):s.O(t,n))},da:function(e,t){var n=this,i=e||[];s._("zpv-events-click").forEach(function(e,t){var n=e.getAttribute("zpv-events-click");i.push({dom:e,type:"click",name:n})}),s._("zpv-events-hover").forEach(function(e,t){var n=e.getAttribute("zpv-events-hover");i.push({dom:e,type:"hover",name:n})}),s._("zpv-events-inview").forEach(function(e,t){var n=e.getAttribute("zpv-events-inview");i.push({dom:e,type:"inview",name:n})}),i.forEach(function(e,i){n.ba(e,t)})},ea:function(e){e.link&&s.Y(e.link)&&s.P(e)}}}();n.prototype={init:function(){var t=this,n=this.fa(),i=r.s("ip_ck"),s=Math.ceil((1e3*+new Date+Math.round(1e3*Math.random()))/1e9),c="//js.zol.com.cn/pvn/pv.ht?&t="+s+"&c="+i;r.q(c,function(i){if(i.writeIpckCookie){var s=r.A();r.u("ip_ck",i.ipck,3650,s)}n.uv=i.uv,n.se=i.se,n.ipck=i.ipck;var c=t.ga(),l=e.encodeURIComponent(e.location.href),p=r.extend(n,c,{url:l,ref:t.ha()}),u=t.ia(),v=r.m(p);t.ja()&&(v="type=iframe&"+v);var f=+new Date,h=u.p+"?t="+f+"&"+v;"error"===t.status&&(h=u.p+"?type=error&t="+f+"&"+v),r.D(h);var d={baseUrl:u,screen:c.screen,pv:{t:f,ns:p.ns,pagetype:p.pagetype,url:l,ipck:i.ipck},all:p};t.ka=d,a.init(d),"mip"!==t.options.terminal&&(t.options.events=e._zpv_events||[]),a.da(t.options.events,d),a.aa(d),o.init(t.options.terminal)})},sendCustomPageview:function(e,t,n,i){if(["scroll","click","page","pop","iframe"].indexOf(e)<0)return void console.warn(e+" is not a validate type!");var o=this.ka;if(o.pv.t=+new Date,i&&!r.g(i)){var a={};r.i(i,function(e,t){a["_"+e]=t}),o.all=r.extend(o.all,a)}o.all.url=t,o.all.ref=n;var s=r.m(o.all),c=o.baseUrl.p+"?type="+e+"&t="+o.pv.t+"&"+s;r.D(c)},sendLinkoutEvent:function(t){if(!(t.indexOf("javascript:")>-1||""===n)){var n=t;t.indexOf("#")>-1&&(n=t.slice(0,t.indexOf("#")));var i=r.B(n);if(!r.h(i)){var o=e.location;n=o.protocol+"//"+o.host+n}var s=this.ka;s.link=n?e.encodeURIComponent(n):null,a.ea(s)}},trackPveCustomEvent:function(t,n){var i={},o=this.ka;if(i.t=+new Date,o.pv.t&&(i.t1=o.pv.t),o.pv.ipck&&(i.ip_ck=o.pv.ipck),i.event=t,/(zol)|(shopApp)/i.test(e.navigator.userAgent)&&(i.appversion=o.all.appversion,i.imei=o.all.imei,i.ssid=o.all.ssid,i.os=o.all.os),n&&!r.g(n)){var a={};r.i(n,function(e,t){a[e]=t}),i=r.extend(i,a)}o.pv.url&&(i.url=o.pv.url);var s=r.m(i);o.baseUrl.pve&&(s=o.baseUrl.pve+"?"+s),r.D(s)},trackCustomEvent:function(t,n,i){if(["click","hover","inview"].indexOf(t)<0)return void console.warn(t+" is not a validate type!");var o={},a=this.ka;if(o.t=+new Date,a.pv.t&&(o.t1=a.pv.t),a.pv.ipck&&(o.ipck=a.pv.ipck),o.type=t,o.eventName=n,/(zol)|(shopApp)/i.test(e.navigator.userAgent)&&(o.appversion=a.all.appversion,o.imei=a.all.imei,o.ssid=a.all.ssid,o.os=a.all.os),i&&!r.g(i)){var s={};r.i(i,function(e,t){s["_"+e]=t}),o=r.extend(o,s)}a.pv.url&&(o.url=a.pv.url);var c=r.m(o);a.baseUrl.e&&(c=a.baseUrl.e+"?"+c),r.D(c)},ja:function(){return e.top.location!==e.self.location},ia:function(){var e="error"===this.status?r.C()?"wap":"pc":this.options.terminal;"m"===e&&(e="wap");var t="pvn"+e+".zol.com.cn",n="//"+t+"/i/";return{p:n+"p.gif",a:n+"a.gif",e:n+"e.gif",o:n+"o.gif",pve:"//pvtest.zol.com.cn/images/pvevents.gif"}},fa:function(){var t=this.options||{},n={},i="zol",o="*",a="*";t.site&&r.h(t.site)&&(i=t.site.toLowerCase()),t.buz&&r.h(t.buz)&&(o=t.buz),t.channel&&r.h(t.channel)&&(a=t.channel),n.ns=i+"."+o+"."+a,t.pagetype&&r.h(t.pagetype)&&(n.pagetype=t.pagetype);var s="";s=t.userCookieName&&""!==t.userCookieName?r.s(t.userCookieName):r.s("zol_userid"),n.uid=s;var c=r.A(),l=r.s("vn"),p=r.s("lv");isNaN(parseInt(l))&&(l=0),isNaN(parseInt(p))&&(p=0);var u=l,v=p;+new Date/1e3-p>7200&&(v=parseInt(+new Date/1e3),u++,r.u("lv",v,365,c),r.u("vn",u,365,c)),n.vn=u,n.lv=v;var f=e.navigator.userAgent;if(/(zol)|(shopApp)/i.test(f)){var h=/\sZOL\/([\d.]+)/i.test(f)&&RegExp.$1||"";h=r.h(h)?parseInt(h.replace(/\./g,""),10):700;var d=/.*(\bimei[=\/](\S+)\b)/i.test(f)&&RegExp.$2||e.la||"";d="0"===d?"":d;var m=/.*(\bssid[=\/](\S+)\b)/i.test(f)&&RegExp.$2||"";m="0"===m?"":m;var g="unknown";/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(f)?g="ios":/A(ndroid|dr)/.test(f)&&(g="android"),n.appversion=h,n.imei=d,n.ssid=m,n.os=g}return n},ga:function(){var t={},n=e.screen.width+"x"+e.screen.height;t.screen=n,t.dpr=e.devicePixelRatio;var i={};return r.i(this.options.custom,function(e,t){i["_"+e]=t}),t=r.extend(t,i)},ma:function(t){var n="";if(t.indexOf("ref0")>-1){var i=/(?:&|\?)ref0=([\s\S]*?)$/i;n=t.match(i),n=e.decodeURIComponent(n[1])}return n},ha:function(){var n="";if(e.top.location===e.self.location){var i=r.s("PC2MRealRef");if(e._zpv_document_refer&&""!==e._zpv_document_refer)n=e._zpv_document_refer;else if(""!==i){n=i;var o=r.A();r.v("PC2MRealRef",o,"/")}else n=t.referrer}else{var a=t.referrer+"";n=this.ma(a),n=""!==n?n:t.referrer}return n=n.replace(/</g,"").replace(/>/g,""),e.encodeURIComponent(n)}},e._zpv_=new n(e._zpv_cfg)}(this,document);