jQuery.fn.rotate=function(h,d){var g=this.get(0);if(!d){g.angle=((g.angle==undefined?0:g.angle)+h)%360}else{g.angle=h}if(g.angle>=0){var a=Math.PI*g.angle/180}else{var a=Math.PI*(360+g.angle)/180}var e=Math.cos(a);var f=Math.sin(a);if(document.all&&!window.opera){var c=document.createElement("img");c.src=g.src;c.height=g.height;c.width=g.width;c.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+e+",M12="+(-f)+",M21="+f+",M22="+e+",SizingMethod='auto expand')"}else{var c=document.createElement("canvas");if(!g.oImage){c.oImage=new Image();c.oImage.src=g.src}else{c.oImage=g.oImage}c.style.width=c.width=Math.abs(e*c.oImage.width)+Math.abs(f*c.oImage.height);c.style.height=c.height=Math.abs(e*c.oImage.height)+Math.abs(f*c.oImage.width);var b=c.getContext("2d");b.save();if(a<=Math.PI/2){b.translate(f*c.oImage.height,0)}else{if(a<=Math.PI){b.translate(c.width,-e*c.oImage.height)}else{if(a<=1.5*Math.PI){b.translate(-e*c.oImage.width,c.height)}else{b.translate(0,-f*c.oImage.width)}}}b.rotate(a);b.drawImage(c.oImage,0,0,c.oImage.width,c.oImage.height);b.restore()}c.id=g.id;c.angle=g.angle;g.parentNode.replaceChild(c,g)};jQuery.fn.rotateRight=function(a){this.rotate(a==undefined?90:a)};jQuery.fn.rotateLeft=function(a){this.rotate(a==undefined?-90:-a)};